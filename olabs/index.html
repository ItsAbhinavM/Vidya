<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-IN" xmlns=http://www.w3.org/1999/xhtml>

<head>

	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-L2XQZ2F8P3"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-L2XQZ2F8P3');
	</script>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script>
		dataLayer = [{ 'uid': '', 'uid_nodal': '', 'uid_type': '', 'uid_regnUniversity': 'Online Labs for schools - Developed by Amrita Vishwa Vidyapeetham and CDAC', 'expId': '22', 'expName': '', 'expLab': 'Class 12', 'expBroadArea': 'Physics', 'expComponent': '', }];		
	</script>
	<link rel="shortcut icon" type="image/x-icon" href="theme/amrita_olabs_wt_responsive/images/favicon.ico">
	<link rel="apple-touch-icon" href="images/bookicon.png" />
	<link rel="apple-touch-icon-precomposed" href="bookicon.png" />
	<script src="https://code.jquery.com/jquery-2.2.4.js"
		integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>
	<!-- <link rel="stylesheet" type="text/css" href="theme/amrita_olabs_wt_responsive/js/css/jquery.ui.css"> -->
	<!-- <script src="https://code.jquery.com/ui/1.14.0/jquery-ui.js" integrity="sha256-u0L8aA6Ev3bY2HI4y0CAyr9H8FRWgX4hZ9+K7C2nzdc=" crossorigin="anonymous"></script> -->
	<script src="js/jquery.js"></script>
	<script src="js/jquery-ui.js"></script>
	<link rel="alternate" href="https://www.olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1" hreflang="x-default" />
	<link rel="alternate" href="https://www.olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1&lan=hi-IN" hreflang="hi-IN" />
	<link rel="alternate" href="https://www.olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1&lan=ml-IN" hreflang="ml-IN" />
	<link rel="alternate" href="https://www.olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1&lan=tl-IN" hreflang="tl-IN" />
	<link rel="alternate" href="https://www.olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1&lan=fr-FR" hreflang="fr-FR" />
	<link rel="alternate" href="https://www.olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1&lan=mr-IN" hreflang="mr-IN" />
	<link rel="alternate" href="https://www.olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1&lan=es-ES" hreflang="es-ES" />
	<link rel="alternate" href="https://www.olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1&lan=kn-IN" hreflang="kn-IN" />

	<link href="styles/font.css" rel="stylesheet" type="text/css">
	<link href="styles/tabs.css" rel="stylesheet" type="text/css">
	<link href="styles/main.css" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css">
	<link href="styles/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="styles/custom.css" rel="stylesheet" type="text/css">
	<style>
		#fl_banner div {
			position: absolute;
		}

		div.mouseoverclass {
			background-color: #ffffff;
			opacity: 0.8;
			filter: alpha(opacity=60);
			/* For IE8 and earlier */
			position: absolute;
			/*margin-left:220px;*/
			width: 180px;
			text-align: center;
			height: 30px;
			margin-top: 20px;
			font-size: 24px;
			vertical-align: middle;
			margin-left: 7p;
			margin-right: 5px;
			/*
	border:2px solid black;
	text-align:center;
	vertical-align:middle;*/
		}

		body {
			background-color: #C0C0C0;

		}
	</style>
	<link href="styles/olab-css.css" rel="stylesheet" />
	<link href="styles/home_styles.css" rel="stylesheet" />
	<link rel="stylesheet" type="text/css" href="styles/grid.css" />
	<link href="styles/bootstrap2.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script type="text/javascript" src="js/grid/gt_msg_en.js"></script>
	<script type="text/javascript" src="js/src/gt_const.js"></script>
	<script type="text/javascript" src="js/grid/gt_grid_all.js"></script>
	<script type="text/javascript" src="js/grid/flashchart/fusioncharts/FusionCharts.js"></script>
	<!-- include jQuery library 
<script type="text/javascript" src="theme/amrita_olabs_wt_responsive/js/jquery.min.js"></script>-->
	<script type="text/javascript" src="theme/amrita_olabs_wt_responsive/js/jquery.min.js"></script>
	<script type="text/javascript" src="theme/amrita_olabs_wt_responsive/js/jquery-ui.min.js"></script>
	<!--<script type="text/javascript" src="js/top_up-min.js"></script>-->
	<script type="text/javascript" src="theme/amrita_olabs_wt_responsive/js/bootstrap.min.js"></script>
	<!-- include Cycle plugin -->
	<script type="text/javascript" src="js/jquery.cycle.lite.min.js"></script>

	<!--<script type="text/javascript" src="js/cross-slide.min.js"></script>-->
	<script type="text/javascript" src="js/javascript_functions.js"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
		integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
		integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
		crossorigin="anonymous"></script>
	<script type="text/javascript">
		$(document).ready(function () {


			$('.slideshow').cycle({
				fx: 'fade' // choose your transition type, ex: fade, scrollUp, shuffle, etc...
			});
		});
		$(document).ready(function () {
			$('.bannerslideshow div').css({
				'background-color': '#FFFFFF'
			});
			$('.bannerslideshow').cycle({
				fx: 'fade', // name of transition function 
				delay: 0, // additional delay (in ms) for first transition (hint: can be negative) 
				timeout: 7000, // milliseconds between slide transitions (0 to disable auto advance) 
				speed: 1000 // speed of the transition (any valid fx speed value) 
			});

		});

		function mouseverjs(opacityDiv) {
			//var opacityDiv
			document.getElementById(opacityDiv).className = "mouseoverclass";
			document.getElementById(opacityDiv).style.display = "block";

		}

		function mouseoutjs(opacityDiv) {
			document.getElementById(opacityDiv).style.display = "none";
		}
	</script>

</head>

<body>
	<button style="position: fixed; right: 0; top: 10; display: none; z-index: 100000;" id="exitButton"><i
			class="material-icons">fullscreen_exit</i></button>
	<script>
		(function (d, s, id) {
			var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) return;
			js = d.createElement(s);
			js.id = id;
			js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
	</script>

	<div class="container" style="background-color:#e8e8e8;">
		<div class="row">
			<div class="col-md-12">
				<img src="images/logo3.jpg" style="float:left; max-width:100%;" />
				<a href="http://www.cdac.in/" target="_blank" rel="noopener noreferrer"
					style="float:right;max-width:100%;"><img src="images/cdac-logo.jpg" /></a>
				<a href="http://www.amrita.edu/create" target="_blank" rel="noopener noreferrer"
					style="float:right;max-width:100%;"><img src="images/amrita-logo.png" /></a>
			</div>
		</div>

		<div class="row">
			<div class="col-md-12">
				<nav class="navbar navbar-default navbar-static-top" role="navigation">
					<div class="menu">
						<div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse"
								data-target="#bs-example-navbar-collapse-1"><span class="sr-only"></span><span
									class="icon-bar"></span><span class="icon-bar"></span><span
									class="icon-bar"></span></button><a class="navbar-brand"
								href="https://www.olabs.edu.in/">Home</a></div>
						<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" id="mainHeader">
							<ul class="nav navbar-nav">
								<li class="dropdown"><a href="?pg=topMenu&id=6" class="dropdown-toggle"
										data-toggle="dropdown">About&nbsp;<b class="caret"></b></a>
									<ul class="dropdown-menu">
										<li><a href="?pg=topMenu&id=5">FAQ</a>
											<ul class="dropdown-menu">
												<li><a href="?pg=topMenu&id=167">test</a></li>
												<li class="divider"></li>
											</ul>
										</li>
										<li class="divider"></li>
										<li><a href="?pg=topMenu&id=13">System Requirements</a></li>
										<li class="divider"></li>
									</ul>
								</li>
								<li><a href="?pg=topMenu&id=7">In the news</a></li>
								<li class="dropdown"><a href="?pg=topMenu&id=12" class="dropdown-toggle"
										data-toggle="dropdown">Workshops&nbsp;<b class="caret"></b></a>
									<ul class="dropdown-menu">
										<li><a href="?pg=topMenu&id=288">Adoption</a></li>
										<li class="divider"></li>
									</ul>
								</li>
								<li class="dropdown"><a href="?pg=topMenu&id=80" class="dropdown-toggle"
										data-toggle="dropdown">Training&nbsp;<b class="caret"></b></a>
									<ul class="dropdown-menu">
										<li><a href="?pg=topMenu&id=76">Training Calendar</a></li>
										<li class="divider"></li>
										<li><a href="?pg=topMenu&id=78">Request for Training</a></li>
										<li class="divider"></li>
										<li><a href="?pg=topMenu&id=130">Training Status</a></li>
										<li class="divider"></li>
									</ul>
								</li>
								<ul class="dropdown-menu">
									<li><a href="?pg=topMenu&id=10">For Teachers</a></li>
									<li class="divider"></li>
									<li><a href="?pg=topMenu&id=11">For Students</a></li>
									<li class="divider"></li>
									<li><a href="?pg=topMenu&id=9">For Schools</a></li>
									<li class="divider"></li>
								</ul>
								</li>
								<li><a href="?pg=topMenu&id=353">Download</a></li>
								<li><a href="?pg=topMenu&id=61">Contact us</a></li>
							</ul>
						</div>
						<div class="clear"></div>
					</div>
					<ul class="nav navbar-nav pull-right mobileNav">
						<li class="dropdown" onclick="showLanguage()"><a
								style="border-radius:0em 0.8em 0em 0em;">Languages<img src=images/select_lang.png
									style="margin-left:8px;" /></a>
							<ul class="dropdown-menu" id="langPopup">
								<li><a
										href="javascript:langUrlProvider('https://olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1','en-IN','en-IN')">English</a>
								</li>

								<li id="langurl" class="divider hidden-sm hidden-xs"></li>
								<li><a
										href="javascript:langUrlProvider('https://olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1','hi-IN','en-IN')">हिंदी</a>
								</li>

								<li id="langurl" class="divider hidden-sm hidden-xs"></li>
								<li><a
										href="javascript:langUrlProvider('https://olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1','ml-IN','en-IN')">മലയാളം</a>
								</li>

								<li id="langurl" class="divider hidden-sm hidden-xs"></li>
								<li><a
										href="javascript:langUrlProvider('https://olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1','mr-IN','en-IN')">मराठी</a>
								</li>

								<li id="langurl" class="divider hidden-sm hidden-xs"></li>
							</ul>
						</li>
					</ul>
				</nav>
			</div>
		</div>
	</div>

	<div class="container" style="background-color:#e8e8e8;">

		<div class=" row expContent">
			<div class="breadcum">you are here-><a href="https://www.olabs.edu.in/">home</a>-><a
					href="?sub=1">Physics</a>-><a href="?sub=1&brch=6">Class 12</a>-><a href="">Refraction through a
					Prism</a></div>
			<div class="row">
				<div class="col-lg-12 col-sm-12 col-xs-12 detailsTop">
					<div class="title">Refraction through a Prism</div>
				</div>
			</div>

			<div class="row">
			</div>

			<div>
				<div class="row">
					<div class="col-lg-12 col-sm-12 col-xs-12">
						<div class="tabContent">
							<div class="Row">
								<div class="Cell hidden-xs hidden-sm" id="lcurve" style="width:24px; height:144px">
								</div>

								<div class="Cell">
									<nav class="navbar" id="mcurve">
										<div class="navbar-header" id="navBrand">
											<button type="button" class="navbar-toggle" data-toggle="collapse"
												data-target="#myNavbar">
												<span class="icon-bar"></span>
												<span class="icon-bar"></span>
												<span class="icon-bar"></span>
											</button>
											<a class="navbar-brand_2 hidden-lg hidden-md "
												href="?sub=1&brch=6&sim=22&cnt=1">
												<ul class="nav nav-tabs">
													<li class="active" id="activeTab">
														<p href="?sub=1&brch=6&sim=22&cnt=1">
															<img
																src="theme/amrita_olabs_wt_responsive/images/tab_icon_image/content_1.png">Theory
														</p>
													</li>
												</ul>
											</a>
										</div>
										<div class="collapse navbar-collapse" id="myNavbar">
											<ul class="nav navbar-nav nav_2 nav-tabs" id="tab">





												<li class="active"><a href="?sub=1&brch=6&sim=22&cnt=1">
														<p style="display:inline"><img src="images/content_1.png">Theory
														</p>
													</a></li>
												<li class=""><a href="?sub=1&brch=6&sim=22&cnt=2">
														<p style="display:inline"><img
																src="images/content_2.png">Procedure </p>
													</a></li>
												<li class=""><a href="?sub=1&brch=6&sim=22&cnt=678">
														<p style="display:inline"><img
																src="images/content_44.png">Animation </p>
													</a></li>
												<li class=""><a href="?sub=1&brch=6&sim=22&cnt=4">
														<p style="display:inline"><img
																src="images/content_4.png">Simulator </p>
													</a></li>
												<li class=""><a href="?sub=1&brch=6&sim=22&cnt=665">
														<p style="display:inline"><img src="images/content_9.png">Video
														</p>
													</a></li>
												<li class=""><a href="?sub=1&brch=6&sim=22&cnt=39">
														<p style="display:inline"><img src="images/content_94.png">Self
															Evaluation </p>
													</a></li>
												<li class=""><a href="?sub=1&brch=6&sim=22&cnt=562">
														<p style="display:inline"><img
																src="images/content_6.png">Resources </p>
													</a></li>
												<li class=""><a href="?sub=1&brch=6&sim=22&cnt=7">
														<p style="display:inline"><img
																src="images/content_7.png">Feedback </p>
													</a></li>
											</ul>
										</div>
									</nav>
								</div>

								<div class="Cell hidden-xs hidden-sm" id="rcurve" style="width:24px; height:144px">
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="divContent" style='margin-top:none !important;'>
                    <h1>Our Objective:</h1>

                    <p>(i) To study the angle of deviation (d) with angle of incidence (i) and to find the angle of
                        minimum deviation (D) from i-d curve.</p>

                    <p>(ii) To find the refractive index of the material of the prism using A and D.</p>

                    <h1>The Theory:</h1>

                    <h2>Prism</h2>

                    <p>A prism is an optical element. It has polished flat surfaces that refract light. The traditional
                        geometric shape of a prism has a triangular base and two rectangular sides. It is called
                        triangular prism.</p>

                    <p>A prism can be made from materials like glass, plastic and fluorite. It can be used to split
                        light into its components.</p>

                    <h2>How a Prism Works</h2>

                    <p>When light travels from one medium to another medium, it is refracted and enters the new medium
                        at a different angle. The degree of bending of the light&#39;s path depends on the angle that
                        the incident beam of light makes with the surface of the prism, and on the ratio between the
                        refractive indices of the two media. This is called Snell&#39;s law.</p>

                    <p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<img alt=""
                            src="http://amrita.olabs.edu.in/userfiles/1/1513402418_RefractionTheory1.png" /></p>

                    <p>where, n is the refractive index of the material of the prism.<br />
                        i is the angle of incidence.<br />
                        r is the angle of refraction.</p>

                    <p>The refractive index of many materials varies with the wavelength of the light used. This
                        phenomenon is called dispersion. This causes light of different colors to be refracted
                        differently and to leave the prism at different angles, creating an effect similar to a rainbow.
                        This can be used to separate a beam of white light into its constituent spectrum of colors.</p>

                    <h2>The relation between Refractive Index (n), Angle of Prism (A) and Angle of Minimum Deviation (D)
                    </h2>

                    <p>Consider the following triangular prism.</p>

                    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <img alt="" src="images/triangular-prism.jpg" /><br />
                        The angle A between the two refracting surfaces ABFE and ACDE is called the angle of prism.</p>

                    <p>A ray of light suffers two refractions on passing through a prism. If KL be a monochromatic light
                        falling on the side AB, it is refracted and travels along LM. It once again suffers refraction
                        at M and emerges out along MN. The angle through which the emergent ray deviates from the
                        direction of incident ray is called angle of deviation &#39;d&#39;.</p>

                    <p><img alt="" src="images/prism-out-line.jpg" /></p>

                    <p>As the angle of incidence is increased, angle of deviation &#39;d&#39; decreases and reaches
                        minimum value. If the angle of incidence is further increased, the angle of deviation is
                        increased.</p>

                    <p>A graph is drawn between angle of incidence (i) and angle of deviation (d) by taking angle of
                        incidence (i) along X-axis and angle of deviation (d) along Y-axis. It should be a curved graph.
                    </p>

                    <p><img alt="" src="images/graph.jpg" /></p>

                    <p>The angle of minimum deviation is obtained from the graph. Let D be the angle of minimum
                        deviation, then the refractive index (n) of the material of the prism is calculated using the
                        formula,</p>

                    <p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<img alt=""
                            src="http://amrita.olabs.edu.in/userfiles/1/1513402428_RefractionTheory2.png" /></p>

                    <h1>Learning outcomes:</h1>

                    <ul>
                        <li>Students understand the working of a prism.</li>
                        <li>Students will be better able to do the experiment in a real laboratory by understanding the
                            procedure.<br />
                            &nbsp;</li>
                    </ul>
                </div>
			</div>
			<div class="tabContent hidden-xs hidden-sm" align="center" width="100%" cellpadding="0" cellspacing="0"
				border="0">
				<div class="Row">
					<div class="Cell" style="width:21px;height:45px"><img
							src="theme/amrita_olabs_wt_responsive/images/lab_bgbot_lcurve.gif"></div>
					<div class="Cell"
						style="background:url(theme/amrita_olabs_wt_responsive/images/lab_bgbot_mid.gif) repeat-x bottom center; width:100%">
					</div>
					<div class="Cell" style="width:21px;height:45px"><img
							src="theme/amrita_olabs_wt_responsive/images/lab_bgbot_rcurve.gif"></div>
				</div>
			</div>
		</div>
	</div>

	</div>

	<script type="text/javascript">

		var tabStatusVariable = 0;
		$(document).ready(function () {
			var tabLength = $("#tab").children().length;
			// for(var i=0;i<tabLength;i++){
			// 	$("#tab").children().eq(i).attr('tabindex',i+1);
			// }
			$('#tab li').click(function () {
				$('#navBrand li').removeClass('active');
				$(this).tab('show');
			});

			$('#navBrand li').click(function () {
				$('#navBrand li').addClass('active');
				$('#tab li').removeClass('active');
			});




			$("#tab li").each(function () {
				if ($(this).hasClass('active')) {
					tabStatusVariable = $(this).html();
					console.log(tabStatusVariable);
					$("#activeTab").html(tabStatusVariable);
				}
			})


		});

		// $(window).load(function(){
		// 	$("#tab").children().eq(0).focus();
		// })
	</script>



	<div class="container" style="background-color:#e8e8e8;">
		<div class="container-fluid">
			<div id="footer" class="row">

				<div class="col-xl-1 col-lg-1"></div>
				<div class="col-xl-10 col-lg-10">

					<p>Developed by <a href="https://www.amrita.edu/create" target="_blank">Amrita Vishwa
							Vidyapeetham</a> & <a href="http://www.cdac.in/" target="_blank"> CDAC Mumbai.</a> Funded by
						MeitY (Ministry of Electronics & Information Technology)</p>
					<p>
						<a id="langurl"
							href="javascript:langUrlProvider('https://olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1','en-IN','en-IN')">English</a>
						<a id="langurl"
							href="javascript:langUrlProvider('https://olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1','hi-IN','en-IN')">हिंदी</a>
						<a id="langurl"
							href="javascript:langUrlProvider('https://olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1','ml-IN','en-IN')">മലയാളം</a>
						<a id="langurl"
							href="javascript:langUrlProvider('https://olabs.edu.in/?sub=1&brch=6&sim=22&cnt=1','mr-IN','en-IN')">मराठी
						</a>
					</p>
					<p>
					</p>


				</div>
				<div class="col-xl-1 col-lg-1"></div>

			</div>
		</div>
	</div>

	<script type="text/javascript" src="js/javascript_functions.js"></script>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	<style>
		.sidebar-box {
			position: fixed;
			right: 15px;
			bottom: 15px;
			width: 350px;
			height: 480px;
			background-color: #f8f8f8;
			border-radius: 15px;
			box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
			z-index: 500;
			overflow: hidden;
			transition: all 0.5s ease;
			user-select: none;
			resize: both;
		}

		.sidebar-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding-left: 10px;
			padding-right: 10px;
			padding-bottom: 10px;
			background-color: #ffffff;
			border-bottom: 1px solid #eaeaea;
			cursor: move;
		}

		.sidebar-header p {
			margin: 0;
			font-weight: bold;
			margin-top: '10px';
		}

		.sidebar-header button {
			background: none;
			border: none;
			cursor: pointer;
			color: #555;
			margin-left: auto;
			z-index: 2;
		}

		.sidebar-header button:hover {
			color: #000;
		}

		#vidya {
			height: 100%;
			width: 100%;
			display: block;
			border: none;
		}

		.disabled {
			pointer-events: none;
			opacity: 0.5;
		}

		.collapsed {
			height: 40px !important;
		}

		.fullscreen {
			width: 100vw !important;
			height: 100vh !important;
			top: 0 !important;
			left: 0 !important;
			border-radius: 0;
			box-shadow: none;
			z-index: 1000;
		}

		.fullscreen-iframe {
			position: fixed;
			top: 0;
			left: 0;
			width: 100vw;
			height: 100vh;
			z-index: 1000;
			background: white;
			transition: all 2s ease;
			border-radius: 0;
		}
	</style>
	</head>

	<body>
		<div class="sidebar-box" id="sidebarBox">
			<div class="sidebar-header" id="sidebarHeader">
				<p style="padding-left: 5px;padding-bottom: 12px;padding-top: 10px;">Hi! how may I help you?</p>
				<div>
					<button onclick="toggleSidebar()"><i class="material-icons">remove</i></button>
					<button id="fullscreenButton" onclick="expandIframe()"><i
							class="material-icons">fullscreen</i></button>
				</div>
			</div>
			<iframe id='vidya' src="http://localhost:12393/" allow="camera; microphone"></iframe>
		</div>

		<script>
			let vidyacopy = 'http://localhost:12393/'

			document.addEventListener("DOMContentLoaded", function () {
				const sidebar = document.getElementById('sidebarBox');
				const button = sidebar.querySelector('button i');
				const text = sidebar.querySelector('p');
				const vidya = document.getElementById('vidya');

				// Initially collapse the sidebar
				sidebar.classList.add('collapsed');
				button.textContent = 'keyboard_arrow_up';
				text.textContent = 'Got any doubts? Ask Vidya';
				vidya.src = ''; // Prevents loading until expanded
				});


			function toggleSidebar() {
				const sidebar = document.getElementById('sidebarBox');
				const button = sidebar.querySelector('button i');
				const text = sidebar.querySelector('p');
				const vidya = document.getElementById('vidya');

				if (!sidebar.classList.contains('collapsed')) {
					// sidebar.style.height = '40px';
					sidebar.classList.add('collapsed');
					button.textContent = 'keyboard_arrow_up';
					// vidyacopy = ""
					vidya.src = 'http://localhost:12393/';
					text.textContent = 'Got any doubts? Ask Vidya';
				} else {
					// sidebar.style.height = '430px';
					sidebar.classList.remove('collapsed');
					button.textContent = 'remove';
					text.textContent = 'Hi... How may I help you?';
					if (vidyacopy) {
						vidya.src = 'http://localhost:12393/	';
					}
				}
			}
			async function expandIframe() {
    const iframe = document.getElementById("vidya");
    const sidebar = document.getElementById("sidebarBox");
    const sidebarHeader = document.getElementById('sidebarHeader');
    const expandButton = document.getElementById("fullscreenButton");
    const exitButton = document.getElementById("exitButton");
    
    // Check if the sidebar is currently collapsed and iframe is empty
    if (sidebar.classList.contains('collapsed') && 
        (iframe.src === '' || !iframe.src.includes('localhost:12393'))) {
        // Load the iframe source before expanding
        iframe.src = 'http://localhost:12393/';
    }
    
    // Toggle fullscreen state
    if (!sidebar.classList.contains("fullscreen")) {
        // Enter fullscreen
        sidebarHeader.style.visibility = 'hidden';
        sidebar.classList.add("fullscreen");
        expandButton.innerHTML = '<i class="material-icons">fullscreen_exit</i>';
        exitButton.style.display = "block";
        exitButton.style.marginRight = '15px';
        exitButton.style.marginTop = '15px';
    } else {
        // Exit fullscreen
        sidebarHeader.style.visibility = 'visible';
        sidebar.classList.remove("fullscreen");
        expandButton.innerHTML = '<i class="material-icons">fullscreen</i>';
        iframe.classList.remove("fullscreen-iframe");
        exitButton.style.display = "none";
    }
}

			
			document.getElementById("fullscreenButton").onclick = expandIframe;
			document.getElementById("exitButton").onclick = expandIframe;

			function makeDraggable(element, dragHandle) {
				let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;

				dragHandle.addEventListener('mousedown', dragMouseDown);

				function dragMouseDown(e) {
					e.preventDefault();
					pos3 = e.clientX;
					pos4 = e.clientY;
					document.addEventListener('mouseup', closeDragElement);
					document.addEventListener('mousemove', elementDrag);
				}

				function elementDrag(e) {
					e.preventDefault();
					pos1 = pos3 - e.clientX;
					pos2 = pos4 - e.clientY;
					pos3 = e.clientX;
					pos4 = e.clientY;

					const newTop = element.offsetTop - pos2;
					const newLeft = element.offsetLeft - pos1;

					const maxX = window.innerWidth - element.offsetWidth;
					const maxY = window.innerHeight - element.offsetHeight;

					element.style.top = Math.min(Math.max(0, newTop), maxY) + "px";
					element.style.left = Math.min(Math.max(0, newLeft), maxX) + "px";
					element.style.right = 'auto';
					element.style.bottom = 'auto';
				}

				function closeDragElement() {
					document.removeEventListener('mouseup', closeDragElement);
					document.removeEventListener('mousemove', elementDrag);
				}
			}

			const sidebarBox = document.getElementById('sidebarBox');
			const sidebarHeader = document.getElementById('sidebarHeader');
			makeDraggable(sidebarBox, sidebarHeader);
		</script>
	</body>

</html>